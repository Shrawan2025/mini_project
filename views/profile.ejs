<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body class="bg-zinc-900 text-white min-h-screen flex items-start justify-start p-6">

    <div class=" text-white p-8  w-full">
        <div class="flex justify-end">
            <a href="/logout"
                class="px-4 py-2 bg-red-600 text-sm mb-4 inline-block rounded-lg hover:bg-red-700 active:bg-red-800 focus:outline-none focus:ring-2 focus:ring-red-300">
                Logout
            </a>
        </div>

        <h3 class="text-2xl">hello, <%= user.name%>ðŸ‘‹</h3>
        <h5 class="mb-5">you can create a new post</h5>
        <form method="post" action="/post">
            <textarea placeholder="what's on your mind" name="content"
                class=" w-1/3 resize-none p-3 rounded-md block outline-none border border-gray-700 bg-transparent text-sm text-gray-300 placeholder-gray-400"></textarea>
            <input type="submit" value="Create New Post"
                class="px-4 py-2 bg-blue-600 text-white text-sm mt-2 block rounded-lg hover:bg-blue-700 active:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-300 cursor-pointer" />
        </form>

        <div class="posts mt-20">
            <h3 class="text-zinc-400 mb-3 text-lg font-semibold">Your post.</h3>

            <% user.posts.reverse().forEach(function(post){ %>
                <div class="postcontainer mb-4 w-1/3 bg-zinc-800 border border-gray-700 p-4 rounded-xl shadow-sm">
                    <div class="space-y-2 ">
                        <h4 class="text-gray-300 font-medium">@<%= user.username%>
                        </h4>
                        <p class="text-gray-300 text-sm leading-relaxed tracking-tight">
                            <%= post.content%>
                        </p>
                        <small class="mt-2 inline-block"><%= post.likes.length %> likes</small>
                        <div class="btns flex items-center gap-4 mt-1">
                            <a href="/like/<%= post._id %>" class=" text-lg transition">
                                <%= post.likes.indexOf(user._id) === -1 ? "ðŸ‘" : "ðŸ‘Ž"%>
                            </a>
                            <a href="/edit/<%= post._id%>" class="px-3 py-1  text-zinc-400 text-sm">edit</a>
                        </div>
                    </div>
                </div>
                <% }) %>
        </div>

    </div>

</body>

</html>